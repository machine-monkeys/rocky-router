# SPDX-License-Identifier: MIT-0
---
# defaults file for machinemonkeys.rocky_router

# Enable/Disable features
rocky_router_features:
  dnf_auto: false
  local_dns: false
  dhcp_hosts: false
  wan_ssh: false
  wiregaurd: false
  dns_blocklist: false
  fail2ban: false
  port_forwarding: false
  hypervisor: false

# IP Info
rocky_router_ip:
  addr: ""
  hostname: ""
  prefixlen: ""

# Network Interfaces
rocky_router_ifs:
  wan: ""
  lan_bridge: ""
  bridge_slaves: []
  bridge_stp: true

# Firewalld
rocky_router_fw:
  lan_zone: lan
  lan_services: []
  wan_zone: wan
  wan_icmp_block: ""
  wan_target: "%%REJECT%%"
  wan_services: []
  policy: "lan-to-wan"
  policy_target: "ACCEPT"

# Local DHCP
rocky_router_dhcp:
  start_ip: ""
  end_ip: ""
  lease_time: "24h"
  lease_file: "/var/lib/dnsmasq/dnsmasq.leases"
  log_facility: "/var/log/dnsmasq.log"

# DHCP Managed Hosts
rocky_router_hosts:
  - mac: ""
    hostname: ""
    ip: ""

# DNF automatic
rocky_router_dnf_auto:
  timer: "dnf-automatic-install.timer"
  on_calendar: "Mon *-*-* 00:00:00"
  reboot_option: "when-needed"
  reboot_command: "\"shutdown -r +5\" 'Rebooting after applying package updates'"
  emit_via: "stdio"

# Local DNS
rocky_router_dns:
  servers: []
  local_domain: home.arpa
  directives:
    - "no-resolv"
    - "bogus-priv"
    - "expand-hosts"
    - "domain-needed"
    - "log-queries"
    - "log-async=50"
    - "cache-size=1000"

# Logrotate
rocky_router_logrotate:
  dnsmasq_size: "100M"
  dnsmasq_count: "5"

# Wan SSH
rocky_router_ssh:
  wan_port: ""
  wan_users: []
  wan_password_auth: "no"
  wan_key_auth: "yes"

# iPXE
rocky_router_ipxe:
  src_dir: /usr/local/src/ipxe
  tftp_dir: /srv/tftpboot
  http_dir: /srv/www
  http_port: "80"
  ansible_pubkey: ""
  root_password: ""
  admin_user: ""
  admin_password: ""
  admin_pubkey: ""
